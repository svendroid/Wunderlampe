<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Test</title>
<link rel="stylesheet" href="http://code.jquery.com/mobile/1.0rc2/jquery.mobile-1.0rc2.min.css" />
<script src="http://code.jquery.com/jquery-1.6.4.min.js"></script>
<script src="http://code.jquery.com/mobile/1.0rc2/jquery.mobile-1.0rc2.min.js"></script>
<style type='text/css'>
	.ui-field-contain input.ui-slider-input{display: none;}
</style>
  
  <script type='text/javascript'>
	
	$('[data-role=page]').live('pagecreate', function () {
		
		var fade = "test";
		
		$('.ui-slider-handle').live('touchend mousedown', function(){
			console.log("mousedown");
			console.log("Down ID: " + $(this).attr('aria-labelledby'));
			console.log("Down VALUE: " + $(this).attr('aria-valuenow'));
			fade = $(this).attr('aria-valuenow');
		});
		
		$('.ui-slider-handle').live('touchend mouseup', function(){
			console.log("mouseup");
			console.log("ID: " + $(this).attr('aria-labelledby'));
			console.log("VALUE: " + $(this).attr('aria-valuenow'));
			console.log("FADEVAL: " + fade);
			changeColor( this, fade );
		});
	});
  
	  function changeColor( elem, elem1 ) {
		
		var slider_value = $(elem).attr('aria-valuenow');
		var mode;
		var color;
		var fade = elem1 + "/";
		
		console.log("FADE FUNC: " + fade);
		
		switch($(elem).attr('aria-labelledby').replace("-label", "")){
			case("sliderRed"):
				color = 0;
				mode = "COLOR";
				fade = "";
				break;
			case("sliderGreen"):
				color = 1;
				mode = "COLOR";
				fade = "";
				break;
			case("sliderBlue"):
				color = 2;
				mode = "COLOR";
				fade = "";
				break;
			case("sliderRedFade"):
				color = 0;
				mode = "COLOR";
				break;
			case("sliderGreenFade"):
				color = 1;
				mode = "COLOR";
				break;
			case("sliderBlueFade"):
				color = 2;
				mode = "COLOR";
				break;
			case("sliderFade7"):
				color = 0;
				mode = "MODE";
				fade = "";
				break;
			case("sliderChange7"):
				color = 1;
				mode = "MODE";
				fade = "";
				break;			
			case("sliderChange3"):
				color = 2;
				mode = "MODE";
				fade = "";
				break;
		}
				
		
		var url = mode + "/" + color + "/" + fade + slider_value;
		console.log("val:" + slider_value);
		console.log("color:" + color);
		console.log("url:" + url);
	  
		
		console.log("change Color");
		$.get(
			"http://192.168.0.101/" + url
		);
		}
  </script>
  
<body>

<!-- Start of first page: #startseite -->
<div data-role="page" id="startseite">
	<div data-role="header">
		<h1>Wunderlampe</h1>
	</div><!-- /header -->
	<div data-role="content">
		<ul data-role="listview" data-theme="d" data-inset="true">
			<li data-role="list-divider" role="heading">Modi</li>
			<li><a href="#fernbedienung">Fernbedienung</a></li>
			<li><a href="index.html">Sonnenaufgangswecker</a></li>
			<li><a href="index.html">Wer ist am hellsten?</a></li>
			<li><a href="index.html">Wahrsagelicht</a></li>
			<li><a href="index.html">Wetter</a></li>
			<li><a href="index.html">Aufgabenliste</a></li>
		</ul>
		
		<ul data-role="listview" data-theme="d" data-inset="true">
			<li data-role="list-divider" role="heading">Dokumentation</li>
			<li><a href="index.html">Anleitung</a></li>
			<li><a href="index.html">Info</a></li>
			<li><a href="index.html">Test</a></li>
		</ul>
	</div><!-- /content -->
	<div data-role="footer">
		<h4>Page Footer</h4>
	</div><!-- /footer -->
</div><!-- /page -->

<!-- Start of first page: #fernbedienung -->
<div data-role="page" id="fernbedienung">
	<div data-role="header">
		<h1>Fernbedienung</h1>
	</div><!-- /header -->
	<div data-role="content">
		
		<div data-role="collapsible-set" data-theme="c" data-content-theme="d">

			<div data-role="collapsible" data-collapsed="false">
					<h3>RGB Control</h3>
					<div data-role="fieldcontain" id="containerRED">
						<label for="sliderRed" class="ui-hidden-accessible">Red slider:</label>
						<input type="range" name="sliderRed" id="sliderRed" value="0" min="0" max="255" />
					</div>
					<div data-role="fieldcontain">
						<label for="sliderGreen" class="ui-hidden-accessible">Green slider</label>
						<input type="range" name="sliderGreen" id="sliderGreen" value="0" min="0" max="255" />
					</div>
					<div data-role="fieldcontain">
						<label for="sliderBlue" class="ui-hidden-accessible">Blue slider</label>
						<input type="range" name="sliderBlue" id="sliderBlue" value="0" min="0" max="255" />
					</div>
			</div>
			
			<div data-role="collapsible" data-collapsed="false">
					<h3>RGB Control Fade</h3>
					<div data-role="fieldcontain" id="containerRED">
						<label for="sliderRedFade" class="ui-hidden-accessible">Red slider:</label>
						<input type="range" name="sliderRedFade" id="sliderRedFade" value="0" min="0" max="255" />
					</div>
					<div data-role="fieldcontain">
						<label for="sliderGreenFade" class="ui-hidden-accessible">Green slider</label>
						<input type="range" name="sliderGreenFade" id="sliderGreenFade" value="0" min="0" max="255" />
					</div>
					<div data-role="fieldcontain">
						<label for="sliderBlueFade" class="ui-hidden-accessible">Blue slider</label>
						<input type="range" name="sliderBlueFade" id="sliderBlueFade" value="0" min="0" max="255" />
					</div>
			</div>
			
			<div data-role="collapsible">
				<h3>7 colour fade</h3>
				<div data-role="fieldcontain">
						<label for="sliderFade7">Speed:</label>
						<input type="range" name="sliderFade7" id="sliderFade7" value="11" min="11" max="100" />
				´</div>
			</div>
			
			<div data-role="collapsible">
				<h3>7 colour change</h3>
				<div data-role="fieldcontain">
						<label for="sliderChange7">Speed:</label>
						<input type="range" name="sliderChange7" id="sliderChange7" value="11" min="11" max="255" />
				´</div>
			</div>
			
			<div data-role="collapsible">
				<h3>3 colour change</h3>
				<div data-role="fieldcontain">
						<label for="sliderChange3">Speed:</label>
						<input type="range" name="sliderChange3" id="sliderChange3" value="11" min="11" max="100" />
				´</div>
			</div>
		</div>	
		
	</div><!-- /content -->
	<div data-role="footer">
		<h4>Page Footer</h4>
	</div><!-- /footer -->
</div><!-- /page -->



  
</body>


</html>

